---
title: IPFS (InterPlanetary File System)
date: 2025-12-02 23:10 +0700
categories: [Blockchain, Infrastructure]
tags: [ipfs, storage, content-addressing, web3]
author: mxzyy
---

## What is IPFS

IPFS (InterPlanetary File System) is a peer-to-peer protocol for storing and sharing data using content addressing—files are retrieved by their hash/CID, not a server location. The goal is a faster, censorship-resistant web without single points of failure.

## Core ideas

- Content addressing: files are chunked, hashed, and referenced by a Content Identifier (CID).
- Merkle DAG: blocks are linked in a directed graph; even tiny changes produce a new CID.
- Peer-to-peer: any node can store, serve, and fetch blocks from other nodes.
- Verifiable: hashing makes tampering obvious.

## Key components

- Node + repo: an IPFS instance with local storage and config.
- CID: hash-based address that represents content (immutable by default).
- Merkle DAG: linked block structure forming files or directories.
- DHT (Kademlia): distributed index to discover which peers hold specific blocks.
- Bitswap: block exchange protocol between peers (torrent-like, but content-addressed).
- IPNS/ENS: naming layers for mutable pointers that can update to new CIDs.
- Gateway: bridge like `https://gateway/ipfs/<cid>` so regular browsers can reach IPFS.
- Pinning & GC: pin keeps content available; unpinned blocks may be garbage-collected.

## How it flows (quick tour)

1. File is split into blocks, hashed, and arranged into a Merkle DAG; the root hash becomes the CID.
2. The node announces block availability via the DHT.
3. When requesting a CID, the node asks the DHT who has the blocks, then fetches via Bitswap.
4. Blocks are verified against the CID; if valid, they’re stored locally and can be served to others.

## Common uses

- Distributing open data, NFT assets, media, docs.
- Hosting static sites (often via gateways + IPNS/ENS for stable names).
- Web3 backends needing verifiable, tamper-evident storage.

## Quick start (CLI)

```bash
# install (example: macOS)
brew install ipfs

# run a local daemon
ipfs daemon

# add a file and get its CID
ipfs add README.md

# fetch by CID (from yourself or other peers)
ipfs cat <CID>
```

## IPFS vs HTTP (fast mental model)

- HTTP: location-addressed (`https://host/path`), single origin, mutable by default.
- IPFS: content-addressed (`ipfs://<cid>`), many origins, immutable by default (mutability via IPNS/ENS aliases).

## Notes and caveats

- Pinning is required to keep data available; unpinned data can be garbage-collected.
- Gateways make access easy but reintroduce a central point—run your own node or use multiple gateways for resilience.
- Performance depends on peers and pinning strategy; production setups usually combine self-hosted nodes with pinning services.
